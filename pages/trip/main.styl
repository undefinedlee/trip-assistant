@import "nib"

$navbar-height = 44px
$day-index-height = 44px
$comment-bar-height = 41px
$multi-media-height = 90px

#trip
	.swiper-container
		position: absolute
		top: 0
		bottom: 0
		left: 0
		right: 0
	.swiper-slide
		overflow: hidden
	.loading
		position: absolute
		width: 100%
		height: 30px
		font: 18px/30px
		text-align: center
		top: 50%
		margin-top: -15px
	.prev-day
	.next-day
		position: absolute
		top: 0
		width: $day-index-height
		height: $day-index-height
		line-height: $day-index-height
		text-align: center
		color: #999
		font-size: 12px
		z-index: 1
	.prev-day
		left: 0
	.next-day
		right: 0
		transform: rotate(180deg)
	.day-index
		position: absolute
		left: 0
		top: $navbar-height
		width: 100%
		height: $day-index-height
		font-size: 16px
		line-height: 30px
		text-align: center
		color: #333
		background-color: rgba(255, 255, 255, .95)
		z-index: 1
		small
			display: block
			font-size: 12px
			line-height: 1
			color: #aaa
	.info-container
	.comment-container
		position: absolute
		width: 100%
		height: 100%
		box-sizing: border-box
		overflow: auto
		-webkit-overflow-scrolling: touch
		transition: transform .3s cubic-bezier(0, 0, 0, 1)
	.info-container
		padding: 0 0 $comment-bar-height
		transform: translateX(0)
		backface-visibility: hidden
		.info
			padding: ($navbar-height + $day-index-height + 15) 15px 15px
			background-color: #fff
			box-shadow: 0 1px 2px rgba(0, 0, 0, .1)
			h3
				font-size: 16px
			.flight
				margin: 10px 0
				padding: 10px
				//background-color: #F7F5F2
				//border: 1px solid #f5f2ec
				background-color: #F4FBFD
				//border: 1px solid #E4F4F9
				border: 0.5px solid #7BC1E4
				//background-color: #F4F1F7
				//border: 1px solid #EFEAF5
				border-radius: 2px
				color: #555
				.airport
					&:before
						font-size: 14px
						vertical-align: 1px
						//color: #5D446F
						color: #7BC1E4
					span
						font-size: 12px
						margin-left: 5px
						color: #999
				.code
					display: block
					border-left: 0.5px solid #7BC1E4
					box-shadow: -0.5px 0 0 #7BC1E4
					width: 0
					margin-left: 7px
					padding: 7px 0 7px
					span
						font-size: 12px
						line-height: 1
						display: inline-block
						margin-left: -7px
						//color: #5D446F
						color: #7BC1E4
						background-color: #F4FBFD
						&:before
							font-size: 15px
							color: #7BC1E4
							margin-right: 5px
			dl
				margin: 10px 0
				padding: 10px 10px 0
				background-color: #F7F5F2
				//border: 1px solid #f5f2ec
				border: 0.5px solid #ECDFC7
				//background-color: #F4F1F7
				//border: 1px solid #EFEAF5
				//border: 0.5px solid #5d446f
				border-radius: 2px
				dt
				dd
					margin-bottom: 10px
				dt
					float: left
					width: 24px
					font-size: 16px
					line-height: 16px
					color: #5d446f
				dd
					margin-left: 24px
					font-size: 14px
					line-height: 20px
					min-height: 20px
					color: #555
					font-weight: 500
			.meal
				//font-size: 12px
				//color: #999
				strong
					font-size: 14px
					//color: #555
					margin-left: 10px
			.desc
				font-size: 14px
				color: #555
				text-indent: 28px
				line-height: 24px
		.resource-scores
			margin: 10px
			padding: 10px 20px
			background-color: #fff
			box-shadow: 0 1px 2px rgba(0, 0, 0, .1)
			border-radius: 2px
			li
				line-height: 40px
				font-size: 18px
				color: #ccc
				//font-weight: 100
				.score
					margin-left: 10px
			.actions
				display: flex
				margin: 10px -20px -10px
				border-top: 0.5px solid #e8e5dd
				box-shadow: 0 -0.5px 0 #e8e5dd
				>span
					flex: 1
					padding: 5px
					&:first-child
						border-right: 0.5px solid #e8e5dd
						box-shadow: 0.5px 0 0 #e8e5dd
					.button
						height: 36px
						line-height: 36px
						border-radius: 2px
		.view-comment
			display: block
			margin: 10px
			padding: 0 20px
			line-height: 40px
			//color: #5d446f
			text-align: center
			font-size: 14px
			color: #333
			background-color: #fff
			box-shadow: 0 1px 2px rgba(0, 0, 0, .1)
			border-radius: 2px
			i
				float: right
				display: inline-block
				color: #ccc
				transform: rotate(180deg)
	.view-info
		position: absolute
		left: 0
		top: $navbar-height + $day-index-height
		width: 100%
		font-size: 12px
		line-height: 24px
		text-align: center
		color: #462C00
		background-color: rgba(253, 224, 172, 0.95)
		z-index: 1
		i
			position: absolute
			left: 15px
			top: 0
			line-height: 24px
			color: #EAC482
	.comment-container
		padding: ($navbar-height + $day-index-height + 24) 0 $comment-bar-height
		transform: translateX(100%)
		backface-visibility: hidden
		background-color: #EAE6DD
		>div
			&.pull-back
				transition: transform .5s cubic-bezier(0, 0, 0, 1)
				transform: translate3d(0, 0, 0)
			.pull-to-refresh-layer
				visibility: hidden
			&.pull-down
			&.pull-up
				.pull-to-refresh-layer
					visibility: visible
			&.pull-up
				.pull-to-refresh-arrow
					transform: rotate(-180deg)
			&.pull-load
				transition: transform .5s cubic-bezier(0, 0, 0, 1)
				transform: translate3d(0, 44px, 0)
				.pull-to-refresh-arrow
					visibility: hidden
				.preloader
					visibility: visible
					width: 20px
					height: 20px
		.comments
			padding: 0 15px
			background-color: #fff
			.comment
				position: relative
				padding: 7px 0 3px 40px
				min-height: 30px
				border-bottom: 0.5px solid #ccc
				box-shadow: 0 0.5px 0 #ccc
				&:last-child
					border-bottom: none
					box-shadow: none
				.header
					position: absolute
					left: 0
					top: 7px
					width: 30px
					height: 30px
					text-align: center
					line-height: 26px
					font-size: 26px
					border-radius: 2px
					overflow: hidden
					color: #fff
				.content
					position: relative
					&:before
						content: " "
						position: absolute
						left: -6px
						top: 16px
						width: 0
						height: 0
						border-style: solid
						border-width: 4px 6px 4px 0
						border-color: transparent #fff transparent transparent
				.extend
					text-align: right
					.time
						font-size: 12px
						color: #999
				&.self
					padding: 7px 40px 3px 0
					text-align: right
					.header
						left: initial
						right: 0
					.content
						text-align: left
					.extend
						text-align: left
				.text
					display: inline-block
					font: 12px/20px
					color: #333
				.photo
					display: inline-block
					img
						display: block
						max-width: 180px
						max-height: 180px
				.speech
					position: relative
					display: inline-block
					background-color: #eee
					border: 0.5px solid #ccc
					box-shadow: 0.5px 0.5px 0 #ccc, -0.5px -0.5px 0 #ccc
					border-radius: 2px
					padding: 0 10px 0 32px
					height: 30px
					line-height: 30px
					color: #666
					&:before
						content: " "
						position: absolute
						left: 10px
						top: 8px
					&.i-play:before
						width: 0
						height: 0
						border-style: solid
						border-width: 7px 0 7px 12px
						border-color: transparent transparent transparent currentColor
					&.i-stop:before
						width: 6px
						height: 14px
						border: 3px solid currentColor
						border-width: 0 3px
					&.i-loading:before
						width: 16px
						height: 11px
						border-width: none
						top: 10px
						left: 8px
	.comment-mode
		.info-container
			transform: translateX(-100%)
		.comment-container
			transform: translateX(0)
	.comment-bar
		position: fixed
		box-sizing: border-box
		left: 0
		right: 0
		bottom: 0
		height: $comment-bar-height
		padding: 6px 63px 6px 42px
		background-color: rgba(255, 255, 255, .95)
		z-index: 10
		border-top: 0.5px solid #ccc
		box-shadow: 0 -0.5px 0 #ccc
		//box-shadow: 0 -2px 3px rgba(0,0,0,.05)
		.input
			border-radius: 2px
		.button
			position: absolute
			top: 6px
			right: 5px
			width: 50px
			border: 0.5px solid #aaa
			box-shadow: 0.5px 0.5px 0 #aaa, -0.5px -0.5px 0 #aaa
			color: #666
			border-radius: 2px
		.multi-media
			position: absolute
			top: 5px
			left: 5px
			width: 29px
			height: 29px
			font-size: 16px
			line-height: 27px
			text-align: center
			border: 0.5px solid #aaa
			box-shadow: 0.5px 0.5px 0 #aaa, -0.5px -0.5px 0 #aaa
			color: #666
			border-radius: 20px
	.multi-media-panel
		position: fixed
		display: flex
		box-sizing: border-box
		left: 0
		right: 0
		bottom: 0
		padding: 0 15px
		background-color: #fff
		border-top: 0.5px solid #ccc
		box-shadow: 0 -0.5px 0 #ccc
		z-index: 10
		overflow: hidden
		height: 0
		>li
			flex: 1
			text-align: center
			padding: 15px 0
			a
				display: inline-block
				width: 60px
				height: 60px
				line-height: 56px
				text-align: center
				font-size: 36px
				border: 0.5px solid #aaa
				box-shadow: 0.5px 0.5px 0 #aaa, -0.5px -0.5px 0 #aaa
				color: #666
				border-radius: 5px
			.green
				color: #090
				border-color: #090
				box-shadow: 0.5px 0.5px 0 #090, -0.5px -0.5px 0 #090
			.blue
				color: #09c
				border-color: #09c
				box-shadow: 0.5px 0.5px 0 #09c, -0.5px -0.5px 0 #09c
			.orange
				color: #f90
				border-color: #f90
				box-shadow: 0.5px 0.5px 0 #f90, -0.5px -0.5px 0 #f90
	&.multi-media-show
		.multi-media-panel
			height: $multi-media-height
		.comment-bar
			bottom: $multi-media-height
		.info-container
		.comment-container
			padding-bottom: $comment-bar-height + $multi-media-height
	.record-mask
		position: fixed
		display: flex
		justify-content: center
		align-items: center
		left: 0
		right: 0
		top: 0
		bottom: 0
		background-color: rgba(0, 0, 0, .8)
		z-index: 10
		.container
			flex: 1
			.record-control
				text-align: center
				a
					display: inline-block
					width: 90px
					height: 90px
					color: #999
					font-size: 12px
					border: 0.5px solid rgba(255, 255, 255, .2)
					background-color: rgba(0,0,0,.2)
					border-radius: 5px
					&:before
						content: " "
						display: block
						margin: 22px auto 8px
				.i-stop
					&:before
						width: 14px
						height: 30px
						border: 6px solid #fff
						border-width: 0 6px
				.i-play
					&:before
						width: 0
						height: 0
						border-style: solid
						border-width: 15px 0 15px 30px
						border-color: transparent transparent transparent #fff
			.record-animate
				text-align: center
				margin-top: 15px
				&>span
					margin: 0 auto
					color: #0f0
					width: 40px
					height: 20px
			.publish-control
				display: flex
				margin-top: 50px
				padding: 0 30px
				&>span
					flex: 1
					padding: 0 5px
.no-navbar
	#trip
		.info-container
			.info
				padding-top: $day-index-height + 15
		.comment-container
			padding-top: $day-index-height + 24
		.day-index
			top: 0
		.view-info
			top: $day-index-height
.ios-gt-7
	#trip
		.day-index
			background-color: rgba(255, 255, 255, .8)
			-webkit-backdrop-filter: blur(10px)
			border-bottom: 0.5px solid #fff
		.view-info
			background-color: rgba(253, 224, 172, 0.8)
			-webkit-backdrop-filter: blur(10px)
		.comment-bar
			background-color: rgba(255, 255, 255, .6)
			-webkit-backdrop-filter: blur(10px)
